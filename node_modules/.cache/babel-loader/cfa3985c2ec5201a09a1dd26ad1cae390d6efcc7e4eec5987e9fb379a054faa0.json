{"ast":null,"code":"var _jsxFileName = \"/Users/mariestassinopoulos/Desktop/procore_api_project/src/procore/auth.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OAUTH_URL = \"https://sandbox.procore.com/oauth/token\";\nexport const AuthContext = /*#__PURE__*/createContext(null);\nexport const AuthProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [accessToken, setAccessToken] = useState(null);\n  const [clientId, setClientId] = useState(null);\n  const [clientSecret, setClientSecret] = useState(null);\n  const handleSubmit = async () => {\n    const tokenResponse = await fetch(OAUTH_URL, {\n      method: \"POST\",\n      body: {\n        grant_type: \"client_credentials\",\n        client_id: clientId,\n        client_secret: clientSecret\n      }\n    });\n    console.log(tokenResponse);\n  };\n  const credentialsForm = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Enter your API credentials\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"client_id\",\n        children: \"Client ID\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"client_id\",\n        id: \"client_id\",\n        onChange: e => setClientId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"client_secret\",\n        children: \"Client Secret\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"client_secret\",\n        id: \"client_secret\",\n        onChange: e => setClientSecret(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Get Access\",\n        onClick: handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      accessToken,\n      setAccessToken\n    },\n    children: accessToken ? children : credentialsForm()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthProvider, \"9O8LDxsXcY5ZjYk4twOH7BoGqpY=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["createContext","useState","jsxDEV","_jsxDEV","OAUTH_URL","AuthContext","AuthProvider","_ref","_s","children","accessToken","setAccessToken","clientId","setClientId","clientSecret","setClientSecret","handleSubmit","tokenResponse","fetch","method","body","grant_type","client_id","client_secret","console","log","credentialsForm","fileName","_jsxFileName","lineNumber","columnNumber","for","type","name","id","onChange","e","target","value","onClick","Provider","_c","$RefreshReg$"],"sources":["/Users/mariestassinopoulos/Desktop/procore_api_project/src/procore/auth.js"],"sourcesContent":["import { createContext, useState } from \"react\";\n\nconst OAUTH_URL = \"https://sandbox.procore.com/oauth/token\";\n\nexport const AuthContext = createContext(null);\n\nexport const AuthProvider = ({ children }) => {\n  const [accessToken, setAccessToken] = useState(null);\n\n  const [clientId, setClientId] = useState(null);\n  const [clientSecret, setClientSecret] = useState(null);\n\n  const handleSubmit = async () => {\n    const tokenResponse = await fetch(OAUTH_URL, {\n      method: \"POST\",\n      body: {\n        grant_type: \"client_credentials\",\n        client_id: clientId,\n        client_secret: clientSecret\n      }\n    });\n\n    console.log(tokenResponse);\n  };\n\n  const credentialsForm = () => {\n    return (\n      <div>\n        <h2>Enter your API credentials</h2>\n\n        <label for=\"client_id\">Client ID</label>\n        <input\n          type=\"text\"\n          name=\"client_id\"\n          id=\"client_id\"\n          onChange={(e) => setClientId(e.target.value)}\n        />\n\n        <label for=\"client_secret\">Client Secret</label>\n        <input\n          type=\"text\"\n          name=\"client_secret\"\n          id=\"client_secret\"\n          onChange={(e) => setClientSecret(e.target.value)}\n        />\n\n        <input type=\"submit\" value=\"Get Access\" onClick={handleSubmit} />\n      </div>\n    );\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{\n        accessToken,\n        setAccessToken\n      }}\n    >\n      {accessToken ? children : credentialsForm()}\n    </AuthContext.Provider>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}